# Ministry Scheduler - 專案總覽

## 專案目標

建立一個簡單實用的教會服事安排管理系統，解決教會主責在服事安排上的實際痛點：

* 避免人工排班的錯誤與遺漏
* 簡化請假與換服事流程
* 提供清楚的服事時間表檢視
* 減少溝通成本

## 核心價值

### 簡單優於複雜

不追求花俏功能，專注解決實際問題。每個功能都必須有明確的使用場景。

### 實用優於理論

採用成熟穩定的技術棧，避免過度工程化。優先考慮系統穩定性和維護便利性。

### 漸進式開發

分階段實作功能，先完成 MVP 驗證核心價值，再逐步擴充。

## 技術棧選擇

* **後端**: Go - 簡單、效能好、部署容易
* **前端**: HTMX + Alpine.js - 避免複雜 SPA，保持簡單
* **樣板**: Templ - 型別安全的 Go 樣板引擎
* **UI**: DaisyUI - 基於 Tailwind 的元件庫
* **資料庫**: PostgreSQL + SQLC - 可靠的關聯式資料庫
* **即時通訊**: WebSocket - 用於協作編輯提醒
* **部署**: Podman - 容器化部署

## 開發原則

### 資料結構優先

設計良好的資料結構能消除大部分邊界情況，減少複雜的業務邏輯。

### 避免過度抽象

不要為了未來可能的需求做過度設計，現在需要什麼就做什麼。

### 錯誤處理要明確

每個可能失敗的地方都要有明確的錯誤處理，給使用者清楚的回饋。

### 測試要實用

重點測試核心業務邏輯，不要為了覆蓋率而測試。

## 專案結構

```
ministry-scheduler/
├── cmd/                   # 主程式入口
├── internal/
│   ├── handlers/          # HTTP 處理器
│   ├── models/            # 資料模型
│   ├── services/          # 業務邏輯
│   └── store/             # 資料存取層
├── web/
│   ├── templates/         # Templ 樣板
│   ├── static/            # 靜態資源
│   └── components/        # 可重用元件
├── migrations/            # 資料庫遷移
├── docs/                  # 技術文件
└── docker/                # 容器設定
```

## 品質要求

* 所有資料庫操作必須有適當索引
* 核心功能必須有測試覆蓋
* 錯誤訊息必須對使用者友善
* API 回應時間 < 200ms (95%)
* 系統可用性 > 99%

## 安全考量

* SQL 注入防護 (使用 SQLC 參數化查詢)
* XSS 防護 (Templ 自動跳脫)
* CSRF 保護
* 適當的權限驗證
* 敏感資料加密存儲

## 部署目標

* 支援單機部署 (小型教會)
* 支援容器化部署
* 資料備份與恢復機制
* 基本監控與日誌記錄
